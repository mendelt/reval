use std::str::FromStr;
use crate::{expr::Expr, value::Value};

grammar;

pub Expr: Expr = Term;

Term: Expr = {
    IntValue => Expr::Value(<>),
    FloatValue => Expr::Value(<>),
    "(" <Expr> ")"
};

IntValue: Value = <s:r"[+-]?[0-9]+"> => Value::Int(i128::from_str(s).unwrap());
FloatValue: Value = <s:r"f[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?"> => Value::Float(f64::from_str(&s[1..]).unwrap());
